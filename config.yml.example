---
db: postgres:///moz_dev
ext_db:
  moz: mysql2:///moz
tables:
  -
    name: forum_user
    table: user
    linked:
      contact:
        fkey: user_id
        fields:
          homepage:
            kind: 1
            name: value
          icq:
            kind: 2
            name: value
          aim:
            kind: 3
            name: value
          yahoo:
            kind: 4
            name: value
          msn:
            kind: 5
            name: value
          skype:
            kind: 6
            name: value
    fields:
      userid:
        name: id
      username:
        name: name
      email:
        name: email
      usertitle:
        name: user_title
      password:
        name: password
      passworddate:
        name: password_on
        if_null:
          klass: Date
          method: new
          params:
            - 1970
            - 1
            - 1
      salt:
        name: salt
  -
    name: forum_forum
    table: forum
    defer:
      - parent_id
    fields:
      forumid:
        name: id
      title:
        name: title
      title_clean:
        name: title_clean
      description:
        name: description
      description_clean:
        name: description_clean
      parentid:
        name: parent_id
        check:
          with: -1
          set: null
      displayorder:
        name: position
